@page
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Sfa.Tl.Find.Provider.Infrastructure.Authorization
@model Sfa.Tl.Find.Provider.Web.Pages.EmployerListModel
@{
    ViewData["Title"] = "Employer list";
}

@if (Model?.UkPrn is not null)
{
    <partial name="partials/_providerEmployerList" />
}
else if (User.IsInRole(CustomRoles.Administrator))
{
    <partial name="partials/_administratorEmployerList" />
}

@section scripts {
    @if (Model?.UkPrn is not null)
    {
        <script>
            $("#Input_SelectedPostcode").change(function () {
                let inputval = $(this).val();
                if (inputval && inputval != "Enter postcode") {
                    $("#postcode-form").submit();
                }
                $(".tl-employers--search").toggleClass('active', inputval === "Enter postcode");
            });
        </script>
    }
}